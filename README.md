transform-json-types
[![All Contributors](https://img.shields.io/badge/all_contributors-5-orange.svg?style=flat-square)](#contributors)
=========

An utility to generate Flow, TypeScript, Rust Serde Struct and Scala Case Class from JSON.

**Note** : It also detects optional properties for TS/Flow from a Collection.

Installation
============

```
npm install transform-json-types
```

The online REPL is available at
- [JSON to Flow](https://transform.now.sh/json-to-flow-types)
- [JSON to TypeScript](https://transform.now.sh/json-to-ts-interface)
- [JSON to Scala Case Class](https://transform.now.sh/json-to-scala-case-class)
- [JSON to Rust Serde](https://transform.now.sh/json-to-rust-serde)

Basic Usage
===========
```js
import transform from "transform-json-types"

const json = `{
  "hello": "world"
}`

console.log(transform(json, {
  lang: "typescript"
}))

// interface RootJson {
//   hello: string
// }

console.log(transform(json, {
	lang: "rust-serde"
}))

// #[derive(Serialize, Deserialize)]
// struct RootInterface {
//   hello: String,
// }
```

Usage with [sarcastic](https://github.com/jamiebuilds/sarcastic/) and Flow
===

```ts
//@flow
import is, { type AssertionType } from "sarcastic"

// Interface generated by "transform-json-types"
const PersonInterface = is.shape({
  name: is.string,
  age: is.number
});

// Use it like this:
type Person = AssertionType<typeof PersonInterface>
const assertPerson = (val: mixed): Person =>
  is(val, PersonInterface, "Person")
const person = assertPerson(JSON.parse('{"name":"Giulio","age":43}')))
```

Usage with [io-ts](https://github.com/gcanti/io-ts) and TypeScript
===

```ts
import * as t from "io-ts"

// Interface generated by "transform-json-types"
const PersonInterface = t.type({
  name: t.string,
  age: t.number
});

// Use it like this:
PersonInterface.decode(JSON.parse('{"name":"Giulio","age":43}')) // => Right({name: "Giulio", age: 43})
PersonInterface.decode(JSON.parse('{"name":"Giulio"}')) // => Left([...])
type Person = t.TypeOf<typeof Person>
```

Usage with [runtypes](https://github.com/pelotom/runtypes) and TypeScript
===

```ts
import * as rt from "runtypes"

// Interface generated by "transform-json-types"
const PersonInterface = rt.Record({
  name: rt.String,
  age: rt.Number
});

// Use it like this:
PersonInterface.check(JSON.parse('{"name":"Giulio","age":43}')) // => {name: "Giulio", age: 43}
```

API
===
### transform(json, [options])

#### json : `String | JSON`
You can pass a parsed JSON or a stringified JSON.

### Options
Option|Default|Description
----|-----|-----
lang| 'flow'| One of `flow`, `typescript`, `scala`, `sarcastic`, `io-ts` or `rust-serde`
rustCase| 'camelCase' | either snakeCase or camelCase

### Inspirations
Majority of the inspiration was from [xperiment](https://github.com/xperiments)'s [json2dts](https://github.com/xperiments/json2dts)

### Development
1. Fork and clone the repo.
1. Create a new branch.
1. Create features or fix bugs.
1. Write test to improve stability.
1. Open a PR.

License
=======
MIT @ [Ritesh Kumar](https://twitter.com/ritz078)





## Contributors

Thanks goes to these wonderful people ([emoji key](https://github.com/kentcdodds/all-contributors#emoji-key)):

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table>
  <tr>
    <td align="center"><a href="http://riteshkr.com"><img src="https://avatars3.githubusercontent.com/u/5389035?v=4?s=100" width="100px;" alt=""/><br /><sub><b>Ritesh Kumar</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=ritz078" title="Code">ðŸ’»</a> <a href="https://github.com/transform-it/transform-json-types/commits?author=ritz078" title="Documentation">ðŸ“–</a> <a href="#ideas-ritz078" title="Ideas, Planning, & Feedback">ðŸ¤”</a></td>
    <td align="center"><a href="http://asquera.de"><img src="https://avatars2.githubusercontent.com/u/47542?v=4?s=100" width="100px;" alt=""/><br /><sub><b>Florian Gilcher</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=skade" title="Code">ðŸ’»</a></td>
    <td align="center"><a href="http://www.xperiments.in"><img src="https://avatars0.githubusercontent.com/u/417709?v=4?s=100" width="100px;" alt=""/><br /><sub><b>Pedro Casaubon</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=xperiments" title="Code">ðŸ’»</a> <a href="#ideas-xperiments" title="Ideas, Planning, & Feedback">ðŸ¤”</a></td>
    <td align="center"><a href="https://github.com/stereobooster"><img src="https://avatars2.githubusercontent.com/u/179534?v=4?s=100" width="100px;" alt=""/><br /><sub><b>stereobooster</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=stereobooster" title="Code">ðŸ’»</a></td>
    <td align="center"><a href="http://fuqua.io"><img src="https://avatars0.githubusercontent.com/u/97195?v=4?s=100" width="100px;" alt=""/><br /><sub><b>Will Fuqua</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=waf" title="Documentation">ðŸ“–</a></td>
    <td align="center"><a href="http://cobraz.no"><img src="https://avatars.githubusercontent.com/u/3726815?v=4?s=100" width="100px;" alt=""/><br /><sub><b>Simen A. W. Olsen</b></sub></a><br /><a href="https://github.com/transform-it/transform-json-types/commits?author=cobraz" title="Code">ðŸ’»</a></td>
  </tr>
</table>

<!-- markdownlint-restore -->
<!-- prettier-ignore-end -->

<!-- ALL-CONTRIBUTORS-LIST:END -->

This project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Contributions of any kind welcome!
